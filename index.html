
<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<title>TechStore</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body{
    margin:0;
    font-family:'Segoe UI', Arial;
    background:#020617;
    color:white;
}

/* ================= PARTIE 1 : HEADER ================= */
header{
    background:#1e293b;
    padding:14px 28px;
    display:flex;
    justify-content:space-between;
    align-items:center;
    box-shadow:0 4px 6px rgba(0,0,0,0.2);
}
header h2{
    color:#38bdf8;
    margin:0;
}
header button{
    padding:8px 16px;
    border:none;
    border-radius:20px;
    cursor:pointer;
    font-weight:bold;
}
.adminBtn{background:#334155;color:white;}
.userBtn{background:#0ea5e9;color:white;}
.hidden{display:none;}

/* ================= PARTIE 2 : IMAGE ================= */
.top-image{
    width:100%;
    height:260px;
    overflow:hidden;
}
.top-image img{
    width:100%;
    height:100%;
    object-fit:cover;
}

/* ================= PARTIE 3 : CONTENU ================= */
section{
    padding:35px;
}

/* ADMIN */
.admin{
    background:white;
    color:black;
    padding:25px;
    border-radius:18px;
    max-width:500px;
    margin:0 auto 35px;
}
input,select{
    width:100%;
    padding:12px;
    margin:8px 0;
    border-radius:10px;
    border:1px solid #ccc;
}
.admin button{
    width:100%;
    padding:12px;
    background:#0ea5e9;
    border:none;
    color:white;
    font-weight:bold;
    border-radius:10px;
}

/* SHOP */
.shop{
    background:rgba(30,58,138,.3);
    border-radius:22px;
    padding:25px;
    border:1px solid #1e40af;
}
.shop h3{margin-top:0;color:#e0f2fe;}

/* SEARCH */
.searchBar{
    display:flex;
    gap:10px;
    margin-bottom:25px;
}
.searchBar input,.searchBar select{flex:1;}
.micBtn{
    background:#38bdf8;
    border:none;
    border-radius:10px;
    width:46px;
    cursor:pointer;
}

/* PRODUCTS */
.products{
    display:grid;
    grid-template-columns:repeat(auto-fill,minmax(250px,1fr));
    gap:20px;
}
.product{
    background:white;
    color:black;
    padding:15px;
    border-radius:20px;
    text-align:center;
}
.product img{
    width:100%;
    height:180px;
    object-fit:cover;
    border-radius:14px;
}
.newPrice{
    font-size:20px;
    font-weight:bold;
    color:#1e3a8a;
}
.cat-tag{
    font-size:12px;
    color:#64748b;
    font-weight:bold;
}
.btn-group{
    margin-top:10px;
    display:flex;
    flex-direction:column;
    gap:8px;
}
.whatsappBtn{
    background:#25D366;
    border:none;
    color:white;
    padding:10px;
    border-radius:10px;
    font-weight:bold;
}
</style>
</head>

<body>

<!-- ================= PARTIE 1 ================= -->
<header>
    <h2>TechStore</h2>
    <div>
        <button class="adminBtn" id="adminBtn" onclick="askAdmin()">üîê Admin</button>
        <button class="userBtn hidden" id="userBtn" onclick="goUser()">üë§ User</button>
    </div>
</header>

<!-- ================= PARTIE 2 ================= -->
<div class="top-image">
    <img src="pexels-pixabay-356056.jpg" alt="Banner TechStore">
</div>

<!-- ================= PARTIE 3 ================= -->
<section>

<div class="admin hidden" id="adminDiv">
    <h3>Ajouter Produit</h3>
    <input id="name" placeholder="Nom du produit">
    <input id="price" type="number" placeholder="Prix (DH)">
    <input id="image" placeholder="Lien image">
    <select id="category">
        <option>PC</option>
        <option>T√©l√©phone</option>
        <option>Cam√©ra</option>
        <option>Autre</option>
    </select>
    <button onclick="addProduct()">Ajouter</button>
</div>

<div class="shop">
    <h3>üõí Boutique</h3>

    <div class="searchBar">
        <input id="search" placeholder="Rechercher..." onkeyup="display()">
        <select id="filter" onchange="display()">
            <option value="">Tous</option>
            <option value="pc">PC</option>
            <option value="t√©l√©phone">T√©l√©phone</option>
            <option value="cam√©ra">Cam√©ra</option>
            <option value="autre">Autre</option>
        </select>
    </div>

    <div class="products" id="products"></div>
</div>

</section>

<script>
let mode="user";
let productsList = JSON.parse(localStorage.getItem("products")) || [];

function askAdmin(){
    let p = prompt("Code admin:");
    if(p==="moh123"){
        mode="admin";
        document.getElementById("adminDiv").classList.remove("hidden");
        document.getElementById("adminBtn").classList.add("hidden");
        document.getElementById("userBtn").classList.remove("hidden");
        display();
    } else alert("Code incorrect!");
}

function goUser(){
    mode="user";
    document.getElementById("adminDiv").classList.add("hidden");
    document.getElementById("adminBtn").classList.remove("hidden");
    document.getElementById("userBtn").classList.add("hidden");
    display();
}

function addProduct(){
    let n = document.getElementById("name").value;
    let pr = document.getElementById("price").value;
    let img = document.getElementById("image").value;
    let cat = document.getElementById("category").value;

    if(n && pr && img){
        productsList.push({name:n, price:pr, image:img, category:cat});
        localStorage.setItem("products", JSON.stringify(productsList));

        document.getElementById("name").value="";
        document.getElementById("price").value="";
        document.getElementById("image").value="";

        display();
        alert("‚úÖ Produit ajout√©");
    } else {
        alert("‚ùå Remplir tous les champs");
    }
}

function display(){
    let s = document.getElementById("search").value.toLowerCase();
    let f = document.getElementById("filter").value;
    let container = document.getElementById("products");

    let h = "";
    productsList.forEach((p)=>{
        if(p.name.toLowerCase().includes(s) && (!f || p.category.toLowerCase()===f)){
            h += `
            <div class="product">
                <img src="${p.image}" onerror="this.src='https://via.placeholder.com/250x180?text=Image+Non+Valide'">
                <div class="cat-tag">${p.category}</div>
                <h4>${p.name}</h4>
                <div class="newPrice">${p.price} DH</div>
                <div class="btn-group">
                    <button class="whatsappBtn">Commander</button>
                </div>
            </div>`;
        }
    });

    container.innerHTML = h || "Aucun produit";
}

display();
</script>

</body>
</html>

